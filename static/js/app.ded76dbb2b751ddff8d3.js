webpackJsonp([1],{NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("7+uW"),a=o("GLwI"),r=o("+zVC"),s=(o("VzBF"),o("yviF")),i=o.n(s),u=(o("dih4"),o("hZls"),o("2ahc")),l=o.n(u),c=(o("VC+z"),o("VXnA"),o("Xxa5")),f=o.n(c),p=o("exGp"),d=o.n(p),h=o("//Fk"),v=o.n(h),m=o("Zrlr"),k=o.n(m),g=o("wxAW"),_=o.n(g),b=new(function(){function t(){k()(this,t)}return _()(t,[{key:"getUser",value:function(){var t=d()(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("users/"+e).once("value").then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var t=d()(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("users/"+e.uid).update({username:e.username}).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"deleteSkill",value:function(){var t=d()(f.a.mark(function t(e,o){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("users_skills/"+e+"/"+o).remove().then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()},{key:"getSkill",value:function(){var t=d()(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("skills/"+e).once("value").then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addNewSkill",value:function(){var t=d()(f.a.mark(function t(e,o){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("users_skills/"+e+"/"+o).set(e).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()},{key:"addNewComment",value:function(){var t=d()(f.a.mark(function t(e,o,n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.timeConvert(),t.abrupt("return",new v.a(function(t){var r=i.a.database().ref().child("comments").push().key;i.a.database().ref("comments/"+e+"/"+r).set({comment:o,uid:n,date:a}).then(function(e){t(e)})}));case 2:case"end":return t.stop()}},t,this)}));return function(e,o,n){return t.apply(this,arguments)}}()},{key:"addSkill",value:function(){var t=d()(f.a.mark(function t(e){var o=this;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){o.getSkill(e.skill).then(function(n){null===n.val()?o.addNewSkill(e.uid,e.skill).then(function(){t(e)}):t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createNewTodo",value:function(){var t=d()(f.a.mark(function t(e){var o,n=this;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.timeConvert(),t.abrupt("return",new v.a(function(t){var a=i.a.database().ref().child("todo").push().key;i.a.database().ref("users/"+n.getUid()+"/todos/"+a).set({active:!0}).then(function(){i.a.database().ref("todos/"+a).set({key:a,title:e.title,details:e.details,completed:!1,deleted:!1,public:!1,timestamp:o.timestamp,date:o}).then(function(){t(a)})})}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getTodo",value:function(){var t=d()(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e).once("value").then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addStepDetails",value:function(){var t=d()(f.a.mark(function t(e,o,n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/steps/"+o+"/details").set(n).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o,n){return t.apply(this,arguments)}}()},{key:"markTodoCompleted",value:function(){var t=d()(f.a.mark(function t(e,o){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/completed").set(o).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()},{key:"markTodoDeleted",value:function(){var t=d()(f.a.mark(function t(e,o){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/deleted").set(o).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=d()(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e).remove().then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"deleteUserTodo",value:function(){var t=d()(f.a.mark(function t(e){var o=this;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("users/"+o.getUid()+"/todos/"+e).remove().then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"updateTodoCount",value:function(){var t=d()(f.a.mark(function t(e,o){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/comments").set(o).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()},{key:"makeTodoPublic",value:function(){var t=d()(f.a.mark(function t(e,o){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/public").set(o).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()},{key:"createNewStep",value:function(){var t=d()(f.a.mark(function t(e){var o,n=this;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.timeConvert(),t.abrupt("return",new v.a(function(t){var a=i.a.database().ref().child("todo").push().key;i.a.database().ref("todos/"+e.key+"/steps/"+a).set({name:e.name,completed:!1,deleted:!1,date:o}).then(function(){n.markTodoCompleted(e.key,!1).then(function(){return t(a)})})}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"markStepComplete",value:function(){var t=d()(f.a.mark(function t(e,o,n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,o),t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/steps/"+o+"/completed").set(n).then(function(e){t(e)})}));case 2:case"end":return t.stop()}},t,this)}));return function(e,o,n){return t.apply(this,arguments)}}()},{key:"markStepDeleted",value:function(){var t=d()(f.a.mark(function t(e,o,n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v.a(function(t){i.a.database().ref("todos/"+e+"/steps/"+o+"/deleted").set(n).then(function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return function(e,o,n){return t.apply(this,arguments)}}()},{key:"todosToArray",value:function(t){var e=[];for(var o in t)if(t.hasOwnProperty(o)){var n=this.sortSteps(t[o].steps);t[o].steps=n.steps,t[o].isCompleted=parseInt(n.completed)>=100||t[o].completed,t[o].completed=parseInt(n.completed),e.push(t[o])}return e}},{key:"getCommentsAndUsers",value:function(){var t=d()(f.a.mark(function t(e){var o,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n in o=[],e)e.hasOwnProperty(n)&&e[n].uid&&o.push(this.getUser(e[n].uid));return t.abrupt("return",v.a.all(o).then(function(t){for(var o=0;o<t.length;o++){var n=t[o].val();for(var a in e)e.hasOwnProperty(a)&&e[a].uid===n.uid&&(e[a].user=n)}return e}));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"sortSteps",value:function(t){var e=[],o=[],n=0,a=0;if(t){for(var r in t)t.hasOwnProperty(r)&&!1===t[r].deleted&&(t[r].key=r,!0===t[r].completed&&(e.push(t[r]),n++,a++),!1===t[r].completed&&(o.push(t[r]),a++));var s=100-Math.round(100*(a-n)/a);return{steps:o.concat(e),completed:s}}return{steps:[],completed:100}}},{key:"timeConvert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.floor(Date.now()),e=new Date(t),o=e.getFullYear(),n=e.getMonth(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n],r=e.getDate(),s=e.getHours(),i=e.getMinutes(),u=e.getSeconds();return{month:("0"+n).slice(-2),m:a,day:("0"+r).slice(-2),year:o,hour:s,min:i,sec:u,timestamp:t,date:o+"-"+("0"+n).slice(-2)+"-"+("0"+r).slice(-2)}}},{key:"getUid",value:function(){return localStorage.getItem("uid")}}]),t}()),w={data:function(){return{uid:localStorage.getItem("uid"),phone:localStorage.getItem("phone"),date:b.timeConvert(),completedTodos:0,totalTodos:0,todos:null,todo:null,step:null,todoPopupOpened:!1,stepPopupOpened:!1,formData:{title:"",details:"",public:!1},getTodoCaller:!1}},mounted:function(){var t=this;this.$f7ready(function(){!1===t.getTodoCaller&&t.getTodo()})},methods:{onPageBeforeIn:function(){!1===this.getTodoCaller&&this.getTodo()},onPageBeforeOut:function(){this.getTodoCaller=!1,this.$f7.popup&&this.$f7.popup.destroy(".step-popup")},getTodo:function(){var t=this;this.getTodoCaller=!0,this.$f7.dialog.preloader(),i.a.database().ref("users/"+this.uid).on("value",function(e){var o=e.val(),n=void 0===o.todos?null:o.todos;if(n){var a=[];for(var r in n)n.hasOwnProperty(r)&&a.push(b.getTodo(r));v.a.all(a).then(function(e){for(var o=[],n=0;n<e.length;n++){var a=e[n].val(),r=b.sortSteps(a.steps);100===r.completed&&t.completedTodos++,a.key=e[n].key,a.steps=r.steps,a.completed=r.completed,o.push(a)}t.todos=o.reverse(),t.totalTodos=o.length,t.$f7.dialog.close()})}else t.$f7.dialog.close()})},swiperIsReady:function(){var t=this;this.$nextTick().then(function(){var e=t.$f7.height-t.$refs.top.$el.clientHeight-t.$refs.navbar.$el.clientHeight-(t.$device.ios?240:180);document.querySelectorAll(".swiper-list").forEach(function(t){t.style.height=e+"px"})})},makePublic:function(t,e){var o=this;return d()(f.a.mark(function n(){return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b.makeTodoPublic(e,t.target.checked);case 2:case"end":return o.stop()}},n,o)}))()},getUnstuck:function(){var t=this;if(""===this.formData.title.trim())return this.$f7.dialog.alert("Your problem need a title"),!1;b.createNewTodo({title:this.formData.title.trim(),details:this.formData.details.trim()}).then(function(e){t.formData.title="",t.formData.details="",t.$f7.popup.close(),t.$f7.views.current.router.navigate("/todo/"+e)})},addStepDetails:function(){var t=this;if(""===this.formData.details.trim())return this.$f7.dialog.alert("Details cannot be empty"),!1;b.addStepDetails(this.todo.key,this.step.key,this.formData.details.trim()).then(function(){t.formData.details="",t.$f7.popup.close()})},openTodoModal:function(){this.$f7.popup.open(".todo-popup")},openStepModal:function(t,e){var o=this;this.todo=t,this.step=e,this.$nextTick(function(){o.$f7.popup.open(".step-popup")})},search:function(){this.$f7.views.current.router.navigate("/search/")},gotoTodo:function(t){this.$f7.views.current.router.navigate("/todo/"+t)},goToAboutPage:function(){this.$f7.views.current.router.navigate("/about/")},goToProfilePage:function(){this.$f7.views.current.router.navigate("/profile/update")}}},y={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("f7-page",{on:{"page:beforein":t.onPageBeforeIn,"page:beforeout":t.onPageBeforeOut}},[o("f7-navbar",{ref:"navbar"},[o("f7-nav-left",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:person","icon-if-md":"material:person"},on:{click:t.goToProfilePage}})],1),t._v(" "),o("f7-nav-title",[t._v("//get_unstuck")]),t._v(" "),o("f7-nav-right",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:search","icon-if-md":"material:search"},on:{click:t.search}})],1),t._v(" "),o("f7-nav-right",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:info","icon-if-md":"material:info"},on:{click:t.goToAboutPage}})],1)],1),t._v(" "),o("f7-block",{ref:"top",staticClass:"mb-15"},[o("h3",{staticClass:"text-color-black m-0"},[t._v(t._s(t.date.m)+" "+t._s(t.date.day)+" "+t._s(t.date.year))]),t._v(" "),t.todos?o("h2",{staticClass:"text-color-black m-0"},[t._v(t._s(t.completedTodos)+" out of "+t._s(t.totalTodos)+" completed.")]):t._e()]),t._v(" "),t.todos?t._e():o("f7-fab",{staticClass:"mt-5",attrs:{slot:"fixed",position:"center-center",color:"green",text:"About this app"},on:{click:t.goToAboutPage},slot:"fixed"},[o("f7-icon",{staticClass:"text-color-white",attrs:{f7:"info"}})],1),t._v(" "),t.todos?t._e():o("f7-block",{staticClass:"start-here"},[o("h3",{staticClass:"text-color-black m-0"},[t._v("Start here")])]),t._v(" "),o("f7-fab",{staticClass:"todo-fab",attrs:{slot:"fixed",position:"right-bottom"},on:{click:t.openTodoModal},slot:"fixed"},[o("f7-icon",{attrs:{ios:"f7:add",md:"material:add"}})],1),t._v(" "),t.todos?o("f7-swiper",{attrs:{pagination:"",params:{on:{init:t.swiperIsReady}}}},t._l(t.todos,function(e,n){return o("f7-swiper-slide",{key:n},[o("f7-card",{staticClass:"custom-height-card"},[o("f7-card-content",[o("f7-row",{staticClass:"v-center"},[o("f7-col",[o("f7-block-title",{staticClass:"m-0"},[t._v(t._s(e.title))])],1),t._v(" "),o("f7-col",{staticClass:"text-align-right block-title-color"},[t._v("Ask for help\n              "),o("f7-toggle",{attrs:{checked:e.public},on:{change:function(o){t.makePublic(o,e.key)}}})],1)],1)],1),t._v(" "),o("f7-progressbar",{staticClass:"progressbar",attrs:{progress:e.completed}}),t._v(" "),e.steps?o("f7-list",{staticClass:"swiper-list"},t._l(e.steps,function(n,a){return o("f7-list-item",{key:a,staticClass:"litem",class:n.completed?"completed":"",attrs:{link:"#",after:"Answer",title:n.name,footer:n.details},on:{click:function(o){t.openStepModal(e,n)}}},[o("f7-icon",{attrs:{slot:"media",f7:n.completed?"check_round":"circle"},slot:"media"})],1)})):t._e(),t._v(" "),o("f7-card-content",{staticClass:"view-all"},[o("f7-button",{on:{click:function(o){t.gotoTodo(e.key)}}},[t._v("View All")])],1)],1)],1)})):t._e(),t._v(" "),o("f7-popup",{staticClass:"todo-popup",attrs:{opened:t.todoPopupOpened},on:{"popup:closed":function(e){t.todoPopupOpened=!1}}},[o("f7-page",{staticClass:"page-bg"},[o("f7-navbar",{attrs:{title:"Name your problem"}},[o("f7-nav-right",[o("f7-link",{attrs:{"popup-close":""}},[t._v("Close")])],1)],1),t._v(" "),o("f7-card",[o("f7-list",{staticClass:"m-0"},[o("f7-list-item",[o("f7-label",[t._v("Name your problem")]),t._v(" "),o("f7-input",{staticClass:"custom-input",attrs:{type:"text",placeholder:"...",value:t.formData.title,required:"","clear-button":""},on:{input:function(e){t.formData.title=e.target.value}}})],1),t._v(" "),o("f7-list-item",[o("f7-button",{on:{click:function(e){t.getUnstuck()}}},[t._v("Get Unstuck")])],1)],1)],1),t._v(" "),o("f7-card",[o("f7-block",{attrs:{strong:""}},[o("p",[t._v("When you are trying to solve a problem, if your next step is obvious, then do it.")]),t._v(" "),o("p",[t._v("Most often this is not the case. When that happens, take a step back and think what it is that you need to figure out, or do, or work through next.")]),t._v(" "),o("p",[t._v("Write down a question about a narrow part of that. Make it as specific as you can.")])])],1)],1)],1),t._v(" "),o("f7-popup",{staticClass:"step-popup",attrs:{opened:t.stepPopupOpened},on:{"popup:closed":function(e){t.stepPopupOpened=!1}}},[t.step?o("f7-page",{staticClass:"page-bg"},[o("f7-navbar",{attrs:{title:t.step.name}},[o("f7-nav-right",[o("f7-link",{attrs:{"popup-close":""}},[t._v("Close")])],1)],1),t._v(" "),o("f7-card",[o("f7-list",{staticClass:"m-0"},[o("f7-list-item",[o("f7-label",[t._v("Step details. Answer your question.")]),t._v(" "),o("f7-input",{staticClass:"custom-input",attrs:{type:"textarea",placeholder:"...",value:t.formData.details,required:"","clear-button":""},on:{input:function(e){t.formData.details=e.target.value}}})],1),t._v(" "),o("f7-list-item",[o("f7-button",{on:{click:function(e){t.addStepDetails()}}},[t._v("Add details")])],1)],1)],1),t._v(" "),o("f7-block-title",[t._v("Current details")]),t._v(" "),o("f7-block",{attrs:{strong:"",inset:""}},[t._v(t._s(t.step.details))])],1):t._e()],1)],1)},staticRenderFns:[]},C=o("VU/8")(w,y,!1,null,null,null).exports,T={data:function(){return{uid:localStorage.getItem("uid"),key:this.$f7route.params.key,title:"//todo",showAddTodo:!1,todoStepPopupOpened:!1,focus:!1,steps:null,todo:null,step:null,completed:0,formData:{name:"",details:""}}},mounted:function(){var t=this;this.$f7ready(function(){t.getSteps()})},methods:{getSteps:function(){var t=this;i.a.database().ref("todos/"+this.key).on("value",function(e){var o=e.val();if(o&&(t.title=o.title,t.todo=o,void 0!==o.steps)){t.showAddTodo=!0;var n=b.sortSteps(o.steps);t.steps=n.steps,t.completed=n.completed}})},inputFocus:function(){this.focus=!0},addStep:function(){var t=this;if(""===this.formData.name.trim())return this.$f7.dialog.alert("Your step need a name"),!1;b.createNewStep({key:this.key,name:this.formData.name.trim()}).then(function(e){t.formData.name="",t.focus=!1})},openStepModal:function(t){this.step=t,this.$f7.popup.open(".todo-step-popup")},addStepDetails:function(){var t=this;if(""===this.formData.details.trim())return this.$f7.dialog.alert("Details cannot be empty"),!1;b.addStepDetails(this.key,this.step.key,this.formData.details.trim()).then(function(e){t.formData.details="",t.$f7.popup.close()})},no:function(){this.showAddTodo=!0},yes:function(){var t=this;this.$f7.dialog.preloader(),b.markTodoCompleted(this.key,!0).then(function(){t.$f7.dialog.close(),t.$f7.views.current.router.navigate("/")})},onDeleted:function(t){var e=this;this.$f7.dialog.preloader(),b.markStepDeleted(this.key,t,!0).then(function(){e.$f7.dialog.close()})},removeTodo:function(){var t=this;this.$f7.dialog.preloader(),b.deleteUserTodo(this.key).then(function(){b.deleteTodo(t.key).then(function(){t.$f7.dialog.close(),t.$f7.views.current.router.navigate("/")})})},onNotDeleted:function(t){var e=this;this.$f7.dialog.preloader(),b.markStepDeleted(this.key,t,!1).then(function(){e.$f7.dialog.close()})},onComplete:function(t){var e=this;this.$f7.dialog.preloader(),b.markStepComplete(this.key,t,!0).then(function(){e.$f7.dialog.close()})},onNotComplete:function(t){var e=this;this.$f7.dialog.preloader(),b.markStepComplete(this.key,t,!1).then(function(){e.$f7.dialog.close()})},onPageBeforeRemove:function(){this.$f7.popup&&this.$f7.popup.destroy(".todo-step-popup")},editStep:function(){}}},$={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("f7-page",{on:{"page:beforeremove":t.onPageBeforeRemove}},[o("f7-navbar",{attrs:{title:"//get_unstuck","back-link":"Back"}},[o("f7-nav-right",[o("f7-link",{staticClass:"icon-black",attrs:{"icon-f7":"trash"},on:{click:t.removeTodo}})],1)],1),t._v(" "),t.showAddTodo?t._e():o("f7-card",[o("f7-card-header",[t._v("Is your next step obvious?")]),t._v(" "),o("f7-card-footer",[o("f7-link",{on:{click:function(e){t.yes()}}},[t._v("Yes")]),t._v(" "),o("f7-link",{on:{click:function(e){t.no()}}},[t._v("No")])],1)],1),t._v(" "),t.showAddTodo?o("f7-card",[o("f7-list",{staticClass:"m-0",attrs:{inset:""}},[o("f7-list-item",[o("f7-label",[t._v("Add todo step.")]),t._v(" "),o("f7-input",{staticClass:"custom-input",attrs:{type:"text",placeholder:"Ask a question. Be specific.",value:t.formData.name,required:"","clear-button":""},on:{input:function(e){t.formData.name=e.target.value},focus:t.inputFocus}})],1),t._v(" "),o("f7-list-item",[o("f7-button",{on:{click:function(e){t.addStep()}}},[t._v("Add step")])],1)],1)],1):t._e(),t._v(" "),t.showAddTodo&&(0===this.steps||t.focus)?o("f7-block",{staticClass:"help text-color-black"},[o("p",[t._v("What isn't obvious? What do you need to figure out.")]),t._v(" "),o("p",[t._v("Create a todo step and ask a question. Make it as specific as you can.")])]):t._e(),t._v(" "),t.steps?o("f7-block-title",{staticClass:"text-color-black note"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.steps?o("f7-card",[o("f7-list",[o("f7-progressbar",{attrs:{progress:t.completed}}),t._v(" "),t._l(t.steps,function(e,n){return o("f7-list-item",{key:n,staticClass:"litem",class:e.completed?"completed":"",attrs:{swipeout:"",link:"#",after:"Answer",title:e.name,footer:e.details},on:{click:function(o){t.openStepModal(e)}}},[o("f7-icon",{attrs:{slot:"media",f7:e.completed?"check_round":"bolt"},slot:"media"}),t._v(" "),o("f7-swipeout-actions",{attrs:{left:""}},[o("f7-swipeout-button",{attrs:{close:"",color:"green"},on:{click:function(o){t.onComplete(e.key)}}},[t._v("Complete")]),t._v(" "),o("f7-swipeout-button",{attrs:{close:"",color:"blue"},on:{click:function(o){t.onNotComplete(e.key)}}},[t._v("Not Complete")])],1),t._v(" "),o("f7-swipeout-actions",{attrs:{right:""}},[o("f7-swipeout-button",{attrs:{close:"",color:"red"},on:{click:function(o){t.onDeleted(e.key)}}},[t._v("Delete")])],1)],1)})],2)],1):t._e(),t._v(" "),t.steps?o("f7-block",{staticClass:"text-color-black"},[o("f7-icon",{staticClass:"small-info-icon",attrs:{f7:"info"}}),t._v(" "),o("strong",[t._v("Tip:")]),t._v(" Swipe item for more actions.\n  ")],1):t._e(),t._v(" "),o("f7-popup",{staticClass:"todo-step-popup",attrs:{opened:t.todoStepPopupOpened},on:{"popup:closed":function(e){t.todoStepPopupOpened=!1}}},[t.step?o("f7-page",{staticClass:"page-bg"},[o("f7-navbar",{attrs:{title:t.step.name}},[o("f7-nav-right",[o("f7-link",{attrs:{"popup-close":""}},[t._v("Close")])],1)],1),t._v(" "),o("f7-card",[o("f7-list",{staticClass:"m-0",attrs:{inset:""}},[o("f7-list-item",[o("f7-label",[t._v("Step details. Answer your question.")]),t._v(" "),o("f7-input",{attrs:{type:"textarea",placeholder:"...",value:t.formData.details,required:"","clear-button":""},on:{input:function(e){t.formData.details=e.target.value}}})],1),t._v(" "),o("f7-list-item",[o("f7-button",{on:{click:function(e){t.addStepDetails()}}},[t._v("Add details")])],1)],1)],1),t._v(" "),o("f7-block-title",[t._v("Current details")]),t._v(" "),o("f7-block",{staticClass:"note"},[t._v(t._s(t.step.details))])],1):t._e()],1)],1)},staticRenderFns:[]},x=o("VU/8")(T,$,!1,null,null,null).exports,D={data:function(){return{uid:localStorage.getItem("uid"),type:this.$f7route.params.type,user:null,skills:null,formData:{username:"",skills:""}}},mounted:function(){var t=this;this.$f7ready(function(){t.getProfile(),t.getSkills()})},methods:{getProfile:function(){var t=this;i.a.database().ref("users/"+this.uid).on("value",function(e){t.user=e.val(),t.formData.username=t.user.username})},getSkills:function(){var t=this;i.a.database().ref("users_skills/"+this.uid).on("value",function(e){t.skills=e.val()})},updateProfile:function(){var t=this;return d()(f.a.mark(function e(){var o,n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.formData.username.trim()){e.next=3;break}return t.$f7.dialog.alert("Name is needed."),e.abrupt("return",!1);case 3:if(""!==t.formData.skills.trim()){e.next=6;break}return t.$f7.dialog.alert("Phone number is required."),e.abrupt("return",!1);case 6:return o=t.formData.username.trim(),n=t.formData.skills.split(",").map(Function.prototype.call,String.prototype.trim),e.next=10,b.updateProfile({uid:t.user.uid,username:o});case 10:for(a=[],r=0;r<n.length;r++)a.push(b.addSkill({uid:t.user.uid,skill:n[r]}));v.a.all(a).then(function(){t.formData.skills=""});case 13:case"end":return e.stop()}},e,t)}))()},onDeleted:function(t){var e=this;return d()(f.a.mark(function o(){return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b.deleteSkill(e.uid,t);case 2:case"end":return o.stop()}},o,e)}))()},goToAboutPage:function(){this.$f7.views.current.router.navigate("/about/")},goToHomePage:function(){this.$f7.views.current.router.navigate("/")}}},S={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("f7-page",[o("f7-navbar",{ref:"navbar"},[o("f7-nav-left",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:home","icon-if-md":"material:home"},on:{click:t.goToHomePage}})],1),t._v(" "),o("f7-nav-title",[t._v("//get_unstuck profile")]),t._v(" "),o("f7-nav-right",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:info","icon-if-md":"material:info"},on:{click:t.goToAboutPage}})],1)],1),t._v(" "),o("f7-card",[o("f7-list",{staticClass:"m-0",attrs:{inset:""}},[o("f7-list-item",[o("f7-label",[t._v("Name")]),t._v(" "),o("f7-input",{attrs:{type:"text",placeholder:"...",value:t.formData.username,required:"","clear-button":""},on:{input:function(e){t.formData.username=e.target.value}}})],1),t._v(" "),o("f7-list-item",[o("f7-label",[t._v("Skills")]),t._v(" "),o("f7-input",{attrs:{type:"text",placeholder:"engineer, web developer, photographer, ...",value:t.formData.skills,required:"","clear-button":""},on:{input:function(e){t.formData.skills=e.target.value}}})],1),t._v(" "),o("f7-list-item",[o("f7-button",{on:{click:function(e){t.updateProfile()}}},[t._v("Update Profile")])],1)],1)],1),t._v(" "),t.skills?o("f7-card",[o("f7-list",t._l(t.skills,function(e,n){return o("f7-list-item",{key:n,attrs:{swipeout:"",title:n}},[o("f7-swipeout-actions",{attrs:{right:""}},[o("f7-swipeout-button",{attrs:{delete:"",close:""},on:{click:function(e){t.onDeleted(n)}}},[t._v("Delete")])],1)],1)}))],1):t._e(),t._v(" "),o("f7-block",{staticClass:"text-color-black"},[o("strong",[t._v("Tip:")]),t._v(" Swipe item for more actions.")])],1)},staticRenderFns:[]},P=o("VU/8")(D,S,!1,null,null,null).exports,A=o("fZjL"),I=o.n(A),O=o("HhAh"),M={data:function(){return{uid:localStorage.getItem("uid"),type:this.$f7route.params.type,that:this,len:50,todos:null,todo:null,comments:null,popupOpened:!1,showModeButton:!0,formData:{comment:""}}},mounted:function(){var t=this;this.$f7ready(function(){t.getTodo()})},methods:{getTodo:function(){var t=this;this.$f7.dialog.preloader(),i.a.database().ref("todos").orderByChild("public").equalTo(!0).limitToFirst(this.len).once("value").then(function(e){e.val()&&(t.todos=b.todosToArray(e.val()),t.length=I()(t.todos).length,t.showModeButton=t.length===t.len),t.$f7.dialog.close()})},getComments:function(){var t=this;if(!this.todo)return!1;this.$f7.dialog.preloader(),i.a.database().ref("comments/"+this.todo.key).on("value",function(e){e.val()?(console.log(e.val()),b.getCommentsAndUsers(e.val()).then(function(e){t.comments=e,b.updateTodoCount(t.todo.key,I()(t.comments).length).then(function(){t.$f7.dialog.close()})})):t.$f7.dialog.close()})},loadMoreTodos:function(){var t=this,e=this.todos[this.todos.length-1].key;return this.$f7.dialog.preloader(),i.a.database().ref("todos").orderByChild("key").limitToFirst(this.len+1).startAt(e).once("value").then(function(e){if(e.val()){for(var o=b.todosToArray(e.val()),n=1;n<o.length;n++)!0===o[n].public&&t.todos.push(o[n]);t.showModeButton=o.length===t.len+1}t.$f7.dialog.close()}),!1},onSearchInput:o.n(O)()(function(t,e){var o=t.target.value;i.a.database().ref("todos").orderByChild("title").startAt(o).endAt(o+"").once("value").then(function(t){if(t.val()){var o=b.todosToArray(t.val());e.todos=[];for(var n=0;n<o.length;n++)e.todos.push(o[n])}})},250),addTodoComment:function(){var t=this;if(""===this.formData.comment.trim())return this.$f7.dialog.alert("Comment cannot be empty"),!1;b.addNewComment(this.todo.key,this.formData.comment,this.uid).then(function(){t.formData.comment=""})},viewTodo:function(t){this.todo=t,this.popupOpened=!0,this.getComments()},goToAboutPage:function(){this.$f7.views.current.router.navigate("/about/")},goToHomePage:function(){this.$f7.views.current.router.navigate("/")}}},N={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("f7-page",[o("f7-navbar",{ref:"navbar"},[o("f7-nav-left",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:home","icon-if-md":"material:home"},on:{click:t.goToHomePage}})],1),t._v(" "),o("f7-nav-title",[t._v("//get_unstuck")]),t._v(" "),o("f7-nav-right",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:info","icon-if-md":"material:info"},on:{click:t.goToAboutPage}})],1),t._v(" "),o("f7-subnavbar",{attrs:{inner:!1}},[o("f7-searchbar",{attrs:{"disable-link-text":"Cancel",placeholder:"Search","clear-button":!0},on:{input:function(e){t.onSearchInput(e,t.that)}}})],1)],1),t._v(" "),t._l(t.todos,function(e,n){return t.todos&&!e.isCompleted?o("f7-card",{key:n,attrs:{title:e.title}},[o("f7-card-content",{attrs:{padding:!1}},[e.steps&&e.steps.length?o("f7-list",t._l(e.steps,function(e,n){return!1===e.completed&&!1===e.deleted&&n<2?o("f7-list-item",{key:n,attrs:{title:e.name}}):t._e()})):t._e()],1),t._v(" "),o("f7-card-footer",[o("span",[t._v(t._s(e.date.m)+" "+t._s(e.date.day)+" "+t._s(e.date.year))]),t._v(" "),o("span",{on:{click:function(o){t.viewTodo(e)}}},[t._v(t._s(e.comments?e.comments:"0")+" comments")]),t._v(" "),o("f7-button",{on:{click:function(o){t.viewTodo(e)}}},[t._v("View")])],1)],1):t._e()}),t._v(" "),t.showModeButton?o("f7-card",[o("f7-button",{on:{click:t.loadMoreTodos}},[t._v("Load more")])],1):t._e(),t._v(" "),o("f7-popup",{attrs:{opened:t.popupOpened},on:{"popup:closed":function(e){t.popupOpened=!1}}},[t.todo?o("f7-page",[o("f7-navbar",{attrs:{title:t.todo.title}},[o("f7-nav-right",[o("f7-link",{attrs:{"popup-close":""}},[t._v("Close")])],1)],1),t._v(" "),o("div",{staticClass:"bottom-margin"},[t.todo.steps&&t.todo.steps.length?o("f7-list",{staticClass:"m-0"},t._l(t.todo.steps,function(e,n){return!1===e.completed&&!1===e.deleted?o("f7-list-item",{key:n,attrs:{title:e.name}}):t._e()})):t._e(),t._v(" "),t._l(t.comments,function(e,n){return t.comments?o("f7-card",{key:n,staticClass:"cus-card-bg note",attrs:{content:e.comment}},[o("f7-card-footer",[o("span",[o("f7-icon",{attrs:{f7:"person"}}),t._v(" "+t._s(e.user.username))],1),t._v(" "),o("span",[t._v(t._s(e.date.m)+" "+t._s(e.date.day)+" "+t._s(e.date.year))])])],1):t._e()})],2),t._v(" "),o("div",{staticClass:"bottom-fixed"},[o("f7-card",[o("f7-list",{staticClass:"m-0"},[o("f7-list-item",[o("f7-input",{attrs:{type:"textarea",resizable:"",placeholder:"...",value:t.formData.comment,required:"","clear-button":""},on:{input:function(e){t.formData.comment=e.target.value}}})],1),t._v(" "),o("f7-list-item",[o("f7-button",{on:{click:function(e){t.addTodoComment()}}},[t._v("Add comment")])],1)],1)],1)],1)],1):t._e()],1)],2)},staticRenderFns:[]},U={data:function(){return{}},mounted:function(){null!==localStorage.getItem("username")?this.$f7.views.current.router.navigate("/"):new l.a.auth.AuthUI(i.a.auth()).start("#firebaseuiAuthContainer",{signInOptions:[i.a.auth.EmailAuthProvider.PROVIDER_ID]})}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("f7-page",{attrs:{"no-toolbar":"","no-navbar":"","no-swipeback":"","login-screen":""}},[e("f7-login-screen-title",[this._v("//get_unstuck")]),this._v(" "),e("f7-list",{attrs:{form:""}},[e("f7-list-item",[e("div",{attrs:{id:"firebaseuiAuthContainer"}})])],1)],1)},staticRenderFns:[]},F={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("f7-page",[o("f7-navbar",{ref:"navbar"},[o("f7-nav-left",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:home","icon-if-md":"material:home"},on:{click:t.goToHomePage}})],1),t._v(" "),o("f7-nav-title",[t._v("//get_unstuck about")]),t._v(" "),o("f7-nav-right",[o("f7-link",{staticClass:"icon-white",attrs:{"icon-if-ios":"f7:person","icon-if-md":"material:person"},on:{click:t.goToProfilePage}})],1)],1),t._v(" "),o("f7-toolbar",{staticClass:"bg-green",attrs:{tabbar:""}},[o("f7-link",{attrs:{"tab-link":"#tab-1","tab-link-active":""}},[t._v("About")]),t._v(" "),o("f7-link",{attrs:{"tab-link":"#tab-2"}},[t._v("F.A.Q")])],1),t._v(" "),o("f7-tabs",[o("f7-tab",{staticClass:"page-content p-0",attrs:{id:"tab-1","tab-active":""}},[o("f7-block-title",{staticClass:"text-color-black"},[t._v("The philosophy")]),t._v(" "),o("f7-card",[o("f7-block",{attrs:{strong:""}},[o("p",[t._v("When you are trying to solve a problem, if your next step is obvious, then do it.")]),t._v(" "),o("p",[t._v("Most often this is not the case. When that happens, take a step back and think what it is that you need to figure out, or do, or work through next.")]),t._v(" "),o("p",[t._v("Write down a question about a narrow part of that. Make it as specific as you can. Then answer that question.")]),t._v(" "),o("p",[t._v("Repeat.")])])],1),t._v(" "),o("f7-block-title",{staticClass:"text-color-black"},[t._v("For example")]),t._v(" "),o("f7-card",[o("f7-block",{attrs:{strong:""}},[o("p",[t._v("If you ask me to build you a planter box, there are a lot of things that I don't know.")]),t._v(" "),o("ul",[o("li",[t._v("I don't know what wood to buy.")]),t._v(" "),o("li",[t._v("I don't know what dimensions you want it.")]),t._v(" "),o("li",[t._v("I don't know how where you live.")])]),t._v(" "),o("p",[t._v("It can be overwhelming to know where to start.")]),t._v(" "),o("p",[t._v("In this case, I take a step back and focus on a single piece of this that I don't know.")]),t._v(" "),o("p",[t._v("Once I solve one step, I can move to the next one.")])])],1),t._v(" "),o("f7-block-title",{staticClass:"text-color-black"},[t._v("Solving the problem")]),t._v(" "),o("f7-card",[o("f7-block",{attrs:{strong:""}},[o("p",[t._v("Often you will have multiple questions in your mind about your problem, and can be difficult to focus.")]),t._v(" "),o("p",[t._v("Having everything written down will help solve your focus, and given enough time, you will solve the problem.")])])],1)],1),t._v(" "),o("f7-tab",{staticClass:"page-content p-0",attrs:{id:"tab-2"}},[o("f7-block-title",{staticClass:"text-color-black"},[t._v("What is "),o("strong",[t._v("Ask for help")]),t._v("?")]),t._v(" "),o("f7-card",[o("f7-block",{attrs:{strong:""}},[o("p",[t._v("By enabling the "),o("strong",[t._v("Ask for help")]),t._v(" feature, your entry will become publicly visible and searchable to other users.")]),t._v(" "),o("p",[t._v("Other users will be able to give input and possibly help in any way.")])])],1)],1)],1)],1)},staticRenderFns:[]},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("f7-page",[e("f7-navbar",{attrs:{title:"Not found","back-link":"Back"}}),this._v(" "),e("f7-block",{attrs:{strong:""}},[e("p",[this._v("Sorry")]),this._v(" "),e("p",[this._v("Requested content not found.")])])],1)},staticRenderFns:[]},V=[{path:"/",component:C},{path:"/todo/:key",component:x},{path:"/profile/:type",component:P},{path:"/search",component:o("VU/8")(M,N,!1,null,null,null).exports},{path:"/auth/",component:o("VU/8")(U,B,!1,null,null,null).exports},{path:"/about/",component:o("VU/8")({methods:{goToHomePage:function(){this.$f7.views.current.router.navigate("/")},goToProfilePage:function(){this.$f7.views.current.router.navigate("/profile/update")}}},F,!1,null,null,null).exports},{path:"(.*)",component:o("VU/8")({},q,!1,null,null,null).exports}],R={data:function(){return{f7params:{id:"io.massinflux.getunstuck",name:"//getunstuck",theme:"auto",routes:V}}},mounted:function(){var t=this;this.$f7ready(function(){null===localStorage.getItem("username")&&t.authCheck()})},methods:{authCheck:function(){var t=this;i.a.auth().onAuthStateChanged(function(e){e&&(t.$f7.dialog.preloader(),t.signIn(e))})},signIn:function(t){var e=this;i.a.database().ref("/users/"+t.uid).update({uid:t.uid,username:t.displayName}).then(function(){localStorage.setItem("username",t.displayName),localStorage.setItem("uid",t.uid),e.$f7.dialog.close(),e.$f7.views.current.router.navigate("/")})}}},H={render:function(){var t=this.$createElement,e=this._self._c||t;return e("f7-app",{attrs:{params:this.f7params}},[e("f7-statusbar"),this._v(" "),e("f7-panel",{attrs:{left:"",reveal:"","theme-dark":""}},[e("f7-view",{attrs:{url:"/panel-left/"}})],1),this._v(" "),e("f7-view",{attrs:{id:"main-view",url:"/auth/",main:""}})],1)},staticRenderFns:[]},E=o("VU/8")(R,H,!1,null,null,null).exports;i.a.initializeApp({apiKey:"AIzaSyDkjqHYk9pVYBBDtpVe8G_i-wcxD6cgpS8",authDomain:"todo-4473a.firebaseapp.com",databaseURL:"https://todo-4473a.firebaseio.com",projectId:"todo-4473a",storageBucket:"todo-4473a.appspot.com",messagingSenderId:"11009476936"}),a.a.use(r.a),new n.a({el:"#app",template:"<app/>",components:{app:E}})},"VC+z":function(t,e){},VXnA:function(t,e){},VzBF:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ded76dbb2b751ddff8d3.js.map